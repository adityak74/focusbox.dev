import{r as u,a as C,R as w}from"./vendor-nf7bT_Uh.js";import{S as K,P,T as U,a as G,b as F,c as H,d as $,R as B,X as N}from"./icons-D6cLdBkM.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var M={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W=u,z=Symbol.for("react.element"),J=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,V=W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y={key:!0,ref:!0,__self:!0,__source:!0};function R(e,s,a){var r,n={},i=null,l=null;a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)q.call(s,r)&&!Y.hasOwnProperty(r)&&(n[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:z,type:e,key:i,ref:l,props:n,_owner:V.current}}A.Fragment=J;A.jsx=R;A.jsxs=R;M.exports=A;var t=M.exports,D={},v=C;D.createRoot=v.createRoot,D.hydrateRoot=v.hydrateRoot;const L=u.createContext(),x={tasks:[],timer:{isRunning:!1,timeLeft:25*60,duration:25*60,currentTask:null,interval:null},settings:{darkMode:!1,autoAdvance:!0,soundNotifications:!0,pomodoroMinutes:25},ui:{showSettingsModal:!1,showTaskModal:!1,taskModalData:null,currentColumn:"code"}},d={ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",MOVE_TASK:"MOVE_TASK",LOAD_TASKS:"LOAD_TASKS",START_TIMER:"START_TIMER",PAUSE_TIMER:"PAUSE_TIMER",RESET_TIMER:"RESET_TIMER",TICK_TIMER:"TICK_TIMER",SET_TIMER_DURATION:"SET_TIMER_DURATION",SET_TIMER_TASK:"SET_TIMER_TASK",CLEAR_TIMER_TASK:"CLEAR_TIMER_TASK",TIMER_COMPLETE:"TIMER_COMPLETE",UPDATE_SETTINGS:"UPDATE_SETTINGS",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",SHOW_SETTINGS_MODAL:"SHOW_SETTINGS_MODAL",HIDE_SETTINGS_MODAL:"HIDE_SETTINGS_MODAL",SHOW_TASK_MODAL:"SHOW_TASK_MODAL",HIDE_TASK_MODAL:"HIDE_TASK_MODAL",LOAD_DATA:"LOAD_DATA",CLEAR_ALL_DATA:"CLEAR_ALL_DATA"};function X(e,s){var a,r;switch(s.type){case d.ADD_TASK:{const n={id:Date.now().toString(),title:s.payload.title.trim(),notes:((a=s.payload.notes)==null?void 0:a.trim())||"",tag:s.payload.tag||"today",column:s.payload.column||"code",createdAt:new Date().toISOString(),completedAt:null};return{...e,tasks:[...e.tasks,n]}}case d.UPDATE_TASK:return{...e,tasks:e.tasks.map(n=>n.id===s.payload.id?{...n,...s.payload.updates}:n)};case d.DELETE_TASK:{const n={...e,tasks:e.tasks.filter(i=>i.id!==s.payload.id)};return e.timer.currentTask&&e.timer.currentTask.id===s.payload.id&&(n.timer={...e.timer,currentTask:null}),n}case d.MOVE_TASK:return{...e,tasks:e.tasks.map(n=>n.id===s.payload.taskId?{...n,column:s.payload.newColumn}:n)};case d.START_TIMER:return{...e,timer:{...e.timer,isRunning:!0}};case d.PAUSE_TIMER:return{...e,timer:{...e.timer,isRunning:!1}};case d.RESET_TIMER:return{...e,timer:{...e.timer,isRunning:!1,timeLeft:e.timer.duration}};case d.TICK_TIMER:{const n=e.timer.timeLeft-1;return n<=0?{...e,timer:{...e.timer,isRunning:!1,timeLeft:0}}:{...e,timer:{...e.timer,timeLeft:n}}}case d.SET_TIMER_DURATION:{const n=s.payload.minutes*60;return{...e,timer:{...e.timer,duration:n,timeLeft:n,isRunning:!1}}}case d.SET_TIMER_TASK:return{...e,timer:{...e.timer,currentTask:s.payload.task}};case d.CLEAR_TIMER_TASK:return{...e,timer:{...e.timer,currentTask:null}};case d.TIMER_COMPLETE:{let n={...e};if(e.timer.currentTask&&(n.tasks=e.tasks.map(i=>i.id===e.timer.currentTask.id?{...i,completedAt:new Date().toISOString()}:i)),e.settings.autoAdvance&&e.timer.currentTask){const i=e.timer.currentTask.column,l=n.tasks.filter(o=>o.column===i&&!o.completedAt);l.length>0?n.timer={...e.timer,currentTask:l[0],isRunning:!1,timeLeft:e.timer.duration}:n.timer={...e.timer,currentTask:null,isRunning:!1,timeLeft:e.timer.duration}}else n.timer={...e.timer,currentTask:null,isRunning:!1,timeLeft:e.timer.duration};return n}case d.UPDATE_SETTINGS:return{...e,settings:{...e.settings,...s.payload}};case d.TOGGLE_DARK_MODE:return{...e,settings:{...e.settings,darkMode:!e.settings.darkMode}};case d.SHOW_SETTINGS_MODAL:return{...e,ui:{...e.ui,showSettingsModal:!0}};case d.HIDE_SETTINGS_MODAL:return{...e,ui:{...e.ui,showSettingsModal:!1}};case d.SHOW_TASK_MODAL:return{...e,ui:{...e.ui,showTaskModal:!0,taskModalData:s.payload||null,currentColumn:((r=s.payload)==null?void 0:r.column)||e.ui.currentColumn}};case d.HIDE_TASK_MODAL:return{...e,ui:{...e.ui,showTaskModal:!1,taskModalData:null}};case d.LOAD_DATA:return{...e,...s.payload};case d.CLEAR_ALL_DATA:return{...x,settings:{...x.settings,darkMode:!1}};default:return e}}function S(){const e=u.useContext(L);if(!e)throw new Error("useFocusBox must be used within a FocusBoxProvider");return e}function Q({children:e}){const[s,a]=u.useReducer(X,x);u.useEffect(()=>{const n=localStorage.getItem("focusbox-tasks"),i=localStorage.getItem("focusbox-settings"),l=localStorage.getItem("focusbox-timer"),o={};if(n&&(o.tasks=JSON.parse(n)),i&&(o.settings={...x.settings,...JSON.parse(i)}),l){const m=JSON.parse(l);o.timer={...x.timer,...m,isRunning:!1}}Object.keys(o).length>0&&a({type:d.LOAD_DATA,payload:o})},[]),u.useEffect(()=>{localStorage.setItem("focusbox-tasks",JSON.stringify(s.tasks)),localStorage.setItem("focusbox-settings",JSON.stringify(s.settings)),localStorage.setItem("focusbox-timer",JSON.stringify({timeLeft:s.timer.timeLeft,duration:s.timer.duration,currentTask:s.timer.currentTask}))},[s.tasks,s.settings,s.timer.timeLeft,s.timer.duration,s.timer.currentTask]),u.useEffect(()=>{s.settings.darkMode?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},[s.settings.darkMode]),u.useEffect(()=>{let n=null;return s.timer.isRunning&&s.timer.timeLeft>0&&(n=setInterval(()=>{a({type:d.TICK_TIMER})},1e3)),()=>{n&&clearInterval(n)}},[s.timer.isRunning,s.timer.timeLeft]),u.useEffect(()=>{s.timer.timeLeft===0&&s.timer.isRunning===!1&&s.timer.currentTask&&(s.settings.soundNotifications&&Z(),a({type:d.TIMER_COMPLETE}))},[s.timer.timeLeft,s.timer.isRunning,s.timer.currentTask,s.settings.soundNotifications]),u.useEffect(()=>{if(s.timer.isRunning){const n=Math.floor(s.timer.timeLeft/60),i=s.timer.timeLeft%60,l=`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;document.title=`${l} - FocusBox.dev`}else document.title="FocusBox.dev â€” Timebox your focus. Locally. Effortlessly."},[s.timer.isRunning,s.timer.timeLeft]);const r={state:s,dispatch:a,actions:d};return t.jsx(L.Provider,{value:r,children:e})}function Z(){try{const e=new(window.AudioContext||window.webkitAudioContext),s=e.createOscillator(),a=e.createGain();s.connect(a),a.connect(e.destination),s.frequency.value=800,s.type="sine",a.gain.setValueAtTime(.3,e.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),s.start(e.currentTime),s.stop(e.currentTime+.5)}catch(e){console.log("Could not play notification sound:",e)}}function ee(){const{dispatch:e,actions:s}=S(),a=()=>{e({type:s.SHOW_SETTINGS_MODAL})};return t.jsx("header",{className:"header",children:t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{className:"logo",children:"FocusBox.dev"}),t.jsx("p",{className:"tagline",children:"Timebox your focus. Locally. Effortlessly."}),t.jsx("button",{className:"settings-btn",onClick:a,"aria-label":"Open settings",children:t.jsx(K,{size:20})})]})})}function te({task:e}){const{dispatch:s,actions:a}=S(),r=new Date(e.createdAt).toDateString(),n=new Date().toDateString(),i=r!==n,l=i?"yesterday":e.tag,o=h=>{h.currentTarget.classList.add("dragging"),h.dataTransfer.setData("text/plain",e.id)},m=h=>{h.currentTarget.classList.remove("dragging")},c=()=>{s({type:a.SHOW_TASK_MODAL,payload:{task:e,column:e.column}})},g=()=>{s({type:a.SET_TIMER_TASK,payload:{task:e}})},p=()=>{window.confirm("Are you sure you want to delete this task?")&&s({type:a.DELETE_TASK,payload:{id:e.id}})};return t.jsxs("div",{className:`task-card ${i?"previous-day":""}`,draggable:!0,onDragStart:o,onDragEnd:m,children:[t.jsx("div",{className:"task-title",children:e.title}),e.notes&&t.jsx("div",{className:"task-notes",children:e.notes}),t.jsxs("div",{className:"task-meta",children:[t.jsx("span",{className:`task-tag ${l}`,children:l}),t.jsxs("div",{className:"task-actions",children:[t.jsx("button",{className:"task-action-btn edit",onClick:c,title:"Edit task","aria-label":"Edit task",children:t.jsx(P,{size:12})}),t.jsx("button",{className:"task-action-btn timer",onClick:g,title:"Add to timer","aria-label":"Add to timer",children:t.jsx(U,{size:12})}),t.jsx("button",{className:"task-action-btn delete",onClick:p,title:"Delete task","aria-label":"Delete task",children:t.jsx(G,{size:12})})]})]})]})}function se({columnId:e,title:s,tasks:a}){const{dispatch:r,actions:n}=S(),i=()=>{r({type:n.SHOW_TASK_MODAL,payload:{column:e}})},l=c=>{c.preventDefault(),c.currentTarget.classList.add("drag-over")},o=c=>{c.currentTarget.contains(c.relatedTarget)||c.currentTarget.classList.remove("drag-over")},m=c=>{c.preventDefault(),c.currentTarget.classList.remove("drag-over");const g=c.dataTransfer.getData("text/plain");g&&e&&r({type:n.MOVE_TASK,payload:{taskId:g,newColumn:e}})};return t.jsxs("div",{className:"column","data-column":e,onDragOver:l,onDragLeave:o,onDrop:m,children:[t.jsxs("div",{className:"column-header",children:[t.jsx("h2",{className:"column-title",children:s}),t.jsx("button",{className:"add-task-btn",onClick:i,"aria-label":`Add task to ${s}`,children:t.jsx(F,{size:16})})]}),t.jsx("div",{className:"tasks-container",children:a.map(c=>t.jsx(te,{task:c},c.id))})]})}function ne(){const{state:e}=S(),s=[{id:"code",title:"Code"},{id:"review",title:"Review"},{id:"comment",title:"Comment"}];return t.jsx("main",{className:"workspace",children:t.jsx("div",{className:"columns-container",children:s.map(a=>t.jsx(se,{columnId:a.id,title:a.title,tasks:e.tasks.filter(r=>r.column===a.id&&!r.completedAt)},a.id))})})}function ae(){const{state:e,dispatch:s,actions:a}=S(),[r,n]=u.useState(25),[i,l]=u.useState("25"),{timer:o}=e,m=()=>{o.isRunning?s({type:a.PAUSE_TIMER}):s({type:a.START_TIMER})},c=()=>{s({type:a.RESET_TIMER})},g=f=>{l(f),f!=="custom"&&s({type:a.SET_TIMER_DURATION,payload:{minutes:parseInt(f)}})},p=()=>{r&&r>0&&s({type:a.SET_TIMER_DURATION,payload:{minutes:r}})},h=f=>{f.preventDefault(),f.currentTarget.style.background="rgba(5, 150, 105, 0.1)"},_=()=>{document.querySelector(".timer-widget").style.background=""},k=f=>{f.preventDefault(),f.currentTarget.style.background="";const y=f.dataTransfer.getData("text/plain");if(y){const j=e.tasks.find(b=>b.id===y);j&&s({type:a.SET_TIMER_TASK,payload:{task:j}})}},E=Math.floor(o.timeLeft/60),T=o.timeLeft%60,O=`${E.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`,I=(o.duration-o.timeLeft)/o.duration*100;return t.jsxs("div",{className:`timer-widget ${o.isRunning?"active":""}`,onDragOver:h,onDragLeave:_,onDrop:k,children:[t.jsxs("div",{className:"timer-header",children:[t.jsx("h3",{className:"timer-title",children:"Focus Timer"}),t.jsx("div",{className:"timer-task",children:o.currentTask?o.currentTask.title:""})]}),t.jsxs("div",{className:"timer-display",children:[t.jsx("div",{className:"time-display",children:O}),t.jsx("div",{className:"timer-progress",children:t.jsx("div",{className:"progress-bar",style:{width:`${I}%`}})})]}),t.jsxs("div",{className:"timer-controls",children:[t.jsx("button",{className:"timer-btn primary",onClick:m,children:o.isRunning?t.jsxs(t.Fragment,{children:[t.jsx(H,{size:16}),"Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx($,{size:16}),"Start"]})}),t.jsxs("button",{className:"timer-btn secondary",onClick:c,children:[t.jsx(B,{size:16}),"Reset"]})]}),t.jsxs("div",{className:"timer-options",children:[t.jsx("button",{className:`timer-option ${i==="25"?"active":""}`,onClick:()=>g("25"),children:"Pomodoro (25m)"}),t.jsx("button",{className:`timer-option ${i==="custom"?"active":""}`,onClick:()=>g("custom"),children:"Custom"})]}),i==="custom"&&t.jsxs("div",{className:"custom-duration",children:[t.jsx("input",{type:"number",min:"1",max:"120",value:r,onChange:f=>n(parseInt(f.target.value)),placeholder:"Minutes"}),t.jsx("button",{onClick:p,children:"Set"})]})]})}function ie(){const{state:e,dispatch:s,actions:a}=S(),r=()=>{s({type:a.HIDE_SETTINGS_MODAL})},n=c=>{c.target===c.currentTarget&&r()},i=c=>{s({type:a.UPDATE_SETTINGS,payload:{darkMode:c.target.checked}})},l=c=>{s({type:a.UPDATE_SETTINGS,payload:{autoAdvance:c.target.checked}})},o=c=>{s({type:a.UPDATE_SETTINGS,payload:{soundNotifications:c.target.checked}})},m=()=>{window.confirm("Are you sure you want to clear all data? This cannot be undone.")&&(s({type:a.CLEAR_ALL_DATA}),r())};return e.ui.showSettingsModal?t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Settings"}),t.jsx("button",{className:"close-btn",onClick:r,"aria-label":"Close settings",children:t.jsx(N,{size:20})})]}),t.jsxs("div",{className:"modal-content",children:[t.jsx("div",{className:"setting-group",children:t.jsxs("label",{className:"setting-label",children:[t.jsx("span",{children:"Dark Mode"}),t.jsx("input",{type:"checkbox",checked:e.settings.darkMode,onChange:i}),t.jsx("span",{className:"toggle-slider"})]})}),t.jsx("div",{className:"setting-group",children:t.jsxs("label",{className:"setting-label",children:[t.jsx("span",{children:"Auto-advance to next task"}),t.jsx("input",{type:"checkbox",checked:e.settings.autoAdvance,onChange:l}),t.jsx("span",{className:"toggle-slider"})]})}),t.jsx("div",{className:"setting-group",children:t.jsxs("label",{className:"setting-label",children:[t.jsx("span",{children:"Sound notifications"}),t.jsx("input",{type:"checkbox",checked:e.settings.soundNotifications,onChange:o}),t.jsx("span",{className:"toggle-slider"})]})}),t.jsx("div",{className:"setting-group",children:t.jsx("button",{className:"danger-btn",onClick:m,children:"Clear All Data"})})]})]})}):null}function re(){var E;const{state:e,dispatch:s,actions:a}=S(),[r,n]=u.useState(""),[i,l]=u.useState(""),[o,m]=u.useState("today"),c=(E=e.ui.taskModalData)==null?void 0:E.task,g=e.ui.currentColumn;u.useEffect(()=>{c?(n(e.ui.taskModalData.task.title),l(e.ui.taskModalData.task.notes||""),m(e.ui.taskModalData.task.tag)):(n(""),l(""),m("today"))},[e.ui.taskModalData,c]);const p=()=>{s({type:a.HIDE_TASK_MODAL})},h=T=>{T.target===T.currentTarget&&p()},_=T=>{T.preventDefault(),r.trim()&&(s(c?{type:a.UPDATE_TASK,payload:{id:e.ui.taskModalData.task.id,updates:{title:r,notes:i,tag:o}}}:{type:a.ADD_TASK,payload:{title:r,notes:i,tag:o,column:g}}),p())},k=()=>{p()};return e.ui.showTaskModal?t.jsx("div",{className:"modal-overlay",onClick:h,children:t.jsxs("div",{className:"modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:c?"Edit Task":"Add Task"}),t.jsx("button",{className:"close-btn",onClick:p,"aria-label":"Close task modal",children:t.jsx(N,{size:20})})]}),t.jsx("div",{className:"modal-content",children:t.jsxs("form",{onSubmit:_,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"taskTitle",children:"Title"}),t.jsx("input",{type:"text",id:"taskTitle",value:r,onChange:T=>n(T.target.value),required:!0,autoFocus:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"taskNotes",children:"Notes (optional)"}),t.jsx("textarea",{id:"taskNotes",rows:"3",value:i,onChange:T=>l(T.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"taskTag",children:"Tag"}),t.jsxs("select",{id:"taskTag",value:o,onChange:T=>m(T.target.value),children:[t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"tomorrow",children:"Tomorrow"}),t.jsx("option",{value:"backlog",children:"Backlog"})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"cancel-btn",onClick:k,children:"Cancel"}),t.jsx("button",{type:"submit",className:"submit-btn",children:c?"Update Task":"Save Task"})]})]})})]})}):null}function oe(){return t.jsx("footer",{className:"footer",children:t.jsx("p",{children:"FocusBox.dev â€” Local, Minimal, and Yours."})})}function le(){const{state:e}=S(),[s,a]=u.useState([]);u.useEffect(()=>{const n=new Date().toDateString();e.tasks.some(l=>new Date(l.createdAt).toDateString()!==n&&!l.completedAt)&&setTimeout(()=>{r("You have tasks from previous days ðŸ“…")},1e3)},[e.tasks]),u.useEffect(()=>{e.timer.timeLeft===0&&!e.timer.isRunning&&r("Timer completed! ðŸŽ‰")},[e.timer.timeLeft,e.timer.isRunning]);const r=n=>{const i=Date.now(),l={id:i,message:n};a(o=>[...o,l]),setTimeout(()=>{a(o=>o.filter(m=>m.id!==i))},3e3)};return s.length===0?null:t.jsx("div",{className:"notifications-container",children:s.map(n=>t.jsx("div",{className:"notification",children:n.message},n.id))})}function ce(){return t.jsx(Q,{children:t.jsxs("div",{className:"app",children:[t.jsx(ee,{}),t.jsx(ne,{}),t.jsx(ae,{}),t.jsx(ie,{}),t.jsx(re,{}),t.jsx(oe,{}),t.jsx(le,{})]})})}D.createRoot(document.getElementById("root")).render(t.jsx(w.StrictMode,{children:t.jsx(ce,{})}));
